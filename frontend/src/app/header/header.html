<!-- HEADER WITH LOGO -->
<header class="flex items-center justify-between px-1 py-4 bg-white dark:bg-gray-900 shadow transition-colors duration-200">
  <div class="flex items-center space-x-4 ml-18">
    <!-- <img src="/riverstramlogo.png" alt="RiverStream Logo" class="h-10 w-10 object-contain" /> -->
    <span class="text-lg font-bold text-violet-700">Riverstream Interview Platform</span>
  </div>
  <div class="relative flex items-center gap-4">
    <!-- Dark Mode Toggle Button -->
    <button (click)="toggleDarkMode() " 
            class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200"
            [attr.aria-label]="isDarkMode ? 'Switch to light mode' : 'Switch to dark mode'">
      <!-- Sun icon for light mode -->
      <svg *ngIf="!isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
      </svg>
      <!-- Moon icon for dark mode -->
      <svg *ngIf="isDarkMode" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
      </svg>
    </button>

    <!-- Profile button -->
    <div class="flex items-center gap-2 px-4 py-2 rounded ">
      <span class="text-gray-700 dark:text-gray-200 font-semibold">{{ name }}</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-violet-700" fill="none" viewBox="0 0 24 24"
        stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="8" r="4"></circle>
        <path d="M6.5 21v-2a5.5 5.5 0 0 1 11 0v2"></path>
      </svg>
    </div>
    
  </div>
</header>


<!-- COLLAPSIBLE SIDEBAR -->
<div [ngClass]="{'w-66': sidebarExpanded, 'w-16': !sidebarExpanded}"
  class="fixed top-0 left-0 h-full bg-white dark:bg-gray-900 shadow-lg z-40 transform transition-all duration-300 ease-in-out border-r border-gray-200 dark:border-gray-700">


  <!-- Sidebar Header with Logo -->
  <div class="flex items-center p-4 border-b border-gray-200 dark:border-gray-700">
    <button (click)="toggleSidebar()"
      class="flex items-center space-x-3 hover:bg-gray-50 rounded p-1 transition w-full">
      <img src="/riverstramlogo.png" alt="RiverStream Logo" class="h-8 w-8 object-contain flex-shrink-0" />
      <div *ngIf="sidebarExpanded" class="overflow-hidden">
        <span class="text-sm font-bold text-violet-700 block whitespace-nowrap">RiverStream</span>
        
      </div>
    </button>
  </div>


  <!-- Sidebar Content -->
  <div class="p-3">
    <div class="space-y-1">


      <!-- Admin Dashboard -->
      <ng-container *ngIf="role === 'admin'">
        <button (click)="navigateTo('admin-dashboard')" [class]="sidebarExpanded ? 'justify-start' : 'justify-center'"
          class="flex items-center w-full text-left px-3 py-3 rounded-lg hover:bg-violet-50 text-violet-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7" rx="1" />
            <rect x="14" y="3" width="7" height="7" rx="1" />
            <rect x="14" y="14" width="7" height="7" rx="1" />
            <rect x="3" y="14" width="7" height="7" rx="1" />
          </svg>
          <span *ngIf="sidebarExpanded" class="ml-3 font-medium whitespace-nowrap">Admin Dashboard</span>
        </button>


        <!-- Candidate Management -->
        <button (click)="navigateTo('candidate-management')"
          [class]="sidebarExpanded ? 'justify-start' : 'justify-center'"
          class="flex items-center w-full text-left px-3 py-3 rounded-lg hover:bg-green-50 text-green-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z" />
            <path d="M4 20v-2c0-2.21 3.58-4 8-4s8 1.79 8 4v2" />
          </svg>
          <span *ngIf="sidebarExpanded" class="ml-3 font-medium whitespace-nowrap">Candidate Management</span>
        </button>


        <!-- Questions Management -->
        <button (click)="navigateTo('questions')" [class]="sidebarExpanded ? 'justify-start' : 'justify-center'"
          class="flex items-center w-full text-left px-3 py-3 rounded-lg hover:bg-blue-50 text-blue-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
          </svg>
          <span *ngIf="sidebarExpanded" class="ml-3 font-medium whitespace-nowrap">Questions Management</span>
        </button>


        <!-- AI Questions Management -->
        <button (click)="navigateTo('ai-questions')" [class]="sidebarExpanded ? 'justify-start' : 'justify-center'"
          class="flex items-center w-full text-left px-3 py-3 rounded-lg hover:bg-orange-50 text-orange-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24"
            stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
          <span *ngIf="sidebarExpanded" class="ml-3 font-medium whitespace-nowrap">AI Questions Management</span>
        </button>
      </ng-container>


    </div>


    <!-- Logout button at bottom -->
    <div class="absolute bottom-4 left-3 right-3">
      <button (click)="logout()" [class]="sidebarExpanded ? 'justify-start' : 'justify-center'"
        class="flex items-center w-full text-left px-3 py-3 rounded-lg hover:bg-red-50 text-red-600 transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path d="M17 16l4-4m0 0l-4-4m4 4H7" />
          <path d="M3 12h4" />
        </svg>
        <span *ngIf="sidebarExpanded" class="ml-3 font-medium whitespace-nowrap">Logout</span>
      </button>
    </div>
  </div>
</div>
